<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Clicker Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            text-align: center;
            background: linear-gradient(45deg, #667eea, #764ba2);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .click-area {
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            margin: 30px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.1s;
            backdrop-filter: blur(10px);
            border: 5px solid rgba(255, 255, 255, 0.2);
        }
        
        .click-area:active {
            transform: scale(0.95);
        }
        
        .click-counter {
            font-size: 72px;
            font-weight: bold;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 15px;
            min-width: 120px;
        }
        
        .upgrades {
            margin-top: 30px;
        }
        
        .upgrade-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 5px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .upgrade-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .upgrade-btn:hover:not(:disabled) {
            background: #45a049;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí• Telegram Clicker</h1>
        <p>–ö–ª–∏–∫–∞–π –ø–æ –∫—Ä—É–≥—É —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏!</p>
        
        <div class="click-area" onclick="clickCircle()">
            <div class="click-counter" id="score">0</div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div>–ö–ª–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</div>
                <div id="cps">0</div>
            </div>
            <div class="stat-box">
                <div>–ó–∞ –∫–ª–∏–∫</div>
                <div id="clickPower">1</div>
            </div>
        </div>
        
        <div class="upgrades">
            <h3>‚ö° –£–ª—É—á—à–µ–Ω–∏—è</h3>
            <button class="upgrade-btn" onclick="buyUpgrade('click')" id="clickUpgrade">
                +1 –∑–∞ –∫–ª–∏–∫ (50 –æ—á–∫–æ–≤)
            </button>
            <button class="upgrade-btn" onclick="buyUpgrade('auto')" id="autoUpgrade">
                –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä (100 –æ—á–∫–æ–≤)
            </button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let score = 0;
        let clickPower = 1;
        let autoClicker = 0;
        let cps = 0; // –∫–ª–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        loadGame();
        
        // –§—É–Ω–∫—Ü–∏—è –∫–ª–∏–∫–∞
        function clickCircle() {
            score += clickPower;
            updateUI();
            saveGame();
        }
        
        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
        function buyUpgrade(type) {
            if (type === 'click' && score >= 50) {
                score -= 50;
                clickPower++;
                document.getElementById('clickUpgrade').textContent = 
                    `+1 –∑–∞ –∫–ª–∏–∫ (${50 * (clickPower - 1) + 50} –æ—á–∫–æ–≤)`;
            } else if (type === 'auto' && score >= 100) {
                score -= 100;
                autoClicker++;
            }
            updateUI();
            saveGame();
        }
        
        // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
        setInterval(() => {
            if (autoClicker > 0) {
                score += autoClicker;
                updateUI();
                saveGame();
            }
        }, 1000);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('score').textContent = Math.floor(score);
            document.getElementById('clickPower').textContent = clickPower;
            document.getElementById('cps').textContent = autoClicker;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫
            document.getElementById('clickUpgrade').disabled = score < 50 * (clickPower - 1) + 50;
            document.getElementById('autoUpgrade').disabled = score < 100;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            const gameData = {
                score: score,
                clickPower: clickPower,
                autoClicker: autoClicker
            };
            localStorage.setItem('telegramClicker', JSON.stringify(gameData));
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function loadGame() {
            const saved = localStorage.getItem('telegramClicker');
            if (saved) {
                const gameData = JSON.parse(saved);
                score = gameData.score || 0;
                clickPower = gameData.clickPower || 1;
                autoClicker = gameData.autoClicker || 0;
            }
            updateUI();
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ Telegram
        tg.BackButton.show();
        tg.BackButton.onClick(() => {
            saveGame();
            tg.close();
        });
    </script>
</body>
</html>